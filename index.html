<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Discoteca DJ AutomÃ¡tica - Nonstop Aleatoria ðŸª©</title>
<style>
body { margin:0; background:#000; color:#ff0; font-family:Arial; text-align:center; overflow:hidden; height:100vh; }
#container { position:relative; width:100vw; height:100vh; }
#player { position:absolute; top:0; left:0; width:100%; height:100%; }
#startBtn { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:100; padding:25px 50px; font-size:2.5rem; background:#f0f; color:#000; border:none; border-radius:50px; cursor:pointer; box-shadow:0 0 40px #f0f; }
#info { position:absolute; top:20px; left:50%; transform:translateX(-50%); z-index:50; font-size:2rem; text-shadow:0 0 15px #000; }
.disco { position:absolute; top:50%; left:50%; width:320px; height:320px; background:conic-gradient(#f00,#ff0,#0f0,#00f,#f0f,#f00); border-radius:50%; animation:spin 6s linear infinite; opacity:0.4; transform:translate(-50%,-50%); pointer-events:none; }
@keyframes spin { to { transform:translate(-50%,-50%) rotate(360deg); } }
</style>
</head>
<body>
<div id="container">
    <div id="info">Pulsa para activar (muted al inicio) ðŸ’ƒðŸ•º</div>
    <button id="startBtn">Â¡Discoteca Nonstop Aleatoria! ðŸª©</button>
    <div id="player"></div>
    <div class="disco"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;
let playlist = [
 "nNEb2k_EmMg",   // Laura Branigan - Gloria
 "DiItGE3eAyQ",   // Con Calma
 "U5lt7aAErvQ&list",   // GANGNAM
 "CWcOJvPolYc",   // JOE LUCIANO El Baile De La Botella
 "JkQmrPXwSNU",   // Sopa de Caracol
 "NN7GA8oWqRA",   // Shaggy - Move
 "1VbtEEoO78E",   // ragga ragga Dimension costeÃ±a
 "GMFewiplIbw",   // Becky G, Bad Bunny - Mayores
 "z432Pwci0-Y",   // Louchie Lou & Michie One | Rich Girl
 "IdJe6RKX8Lo",   // Gwen Stefani - Rich Girl
    // Agrega mÃ¡s si quieres (busca "disco mix 2026 nonstop" y copia IDs)
];

let currentIndex = -1;
let checkInterval = null;

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function playNext() {
    if (currentIndex === -1 || currentIndex >= playlist.length - 1) {
        shuffle(playlist);
        currentIndex = 0;
    } else {
        currentIndex++;
    }

    const id = playlist[currentIndex];
    player.loadVideoById(id);
    document.getElementById("info").innerText = `Reproduciendo mix aleatorio #${currentIndex + 1} ðŸ”¥ (nonstop)`;

    // Limpia intervalo anterior y empieza chequeo de fin
    if (checkInterval) clearInterval(checkInterval);
    checkInterval = setInterval(() => {
        if (player && player.getCurrentTime && player.getDuration) {
            const current = player.getCurrentTime();
            const duration = player.getDuration();
            if (duration > 0 && current >= duration - 5) {  // -5 seg para margen (buffering)
                clearInterval(checkInterval);
                setTimeout(playNext, 3000);  // Pausa de 3 seg + siguiente
            }
        }
    }, 5000);  // Chequea cada 5 segundos
}

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        width: '100%',
        height: '100%',
        videoId: '',
        playerVars: {
            autoplay: 1,
            mute: 1,  // Obligatorio para autoplay confiable
            controls: 1,
            rel: 0,
            modestbranding: 1,
            playsinline: 1
        },
        events: {
            'onReady': () => {},
            'onStateChange': (event) => {
                if (event.data === YT.PlayerState.ENDED) {
                    clearInterval(checkInterval);
                    setTimeout(playNext, 2000);
                }
            },
            'onError': () => {
                setTimeout(playNext, 5000);  // Salta si error (embedding bloqueado)
            }
        }
    });
}

document.getElementById("startBtn").onclick = function(){
    this.style.display = "none";
    player.unMute();  // Sonido tras interacciÃ³n
    playNext();       // Inicia aleatorio
};
</script>
</body>
</html>















































